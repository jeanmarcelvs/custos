<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GDIS — Projeto</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="./css/style.css">
</head>
<body>
  <div class="container">
    <!-- Overlay de carregamento, começa oculto -->
    <div class="loading-overlay oculto" id="loading-overlay">
      <div class="spinner"></div>
    </div>

    <!-- 1. Container da Busca (controlado pelo JS) -->
    <div id="project-search-container" class="login-wrapper oculto">
      <form id="project-search-form" class="login-card">
        <h1 class="login-title">Consultar Projeto</h1>
        <label for="project-id-input">ID do Projeto</label>
        <input type="text" id="project-id-input" placeholder="Digite o ID do projeto..." required />
        <button type="submit" class="btn w-full">Consultar</button>
        <div class="text-center mt-2">
          <button id="btn-logout-search" class="btn-ghost">Sair</button>
        </div>
      </form>
    </div>

    <!-- 2. Container dos Detalhes (controlado pelo JS) -->
    <div id="project-details-container" class="oculto">
      <header class="site-header">
        <div>
          <h1 id="proj-title">Projeto</h1>
          <p class="meta" id="client-name-placeholder" style="margin-bottom: 0;">Carregando...</p>
          <p class="meta" id="info-data" style="margin-top: 4px;">—</p>
        </div>
        <div class="actions">
          <button id="btn-refresh" class="btn-ghost">Atualizar</button>
          <button id="btn-edit-page" class="btn">Editar Custos</button>
          <button id="btn-logout" class="btn-ghost">Sair</button>
        </div>
      </header>

      <section id="kpi-principais" class="kpi-grid">
        <div class="kpi"><small>TOTAL DO PROJETO</small><div class="value" id="val-total-projeto">R$ 0,00</div></div>
        <div class="kpi"><small>VALOR DO KIT</small><div class="value" id="val-kit">R$ 0,00</div></div>
        <div class="kpi kpi-gdis"><small>GDIS</small><div class="value" id="val-gdis">R$ 0,00</div></div>
        <div class="kpi"><small>IMPOSTO</small><div class="value" id="val-imposto">R$ 0,00</div></div>
        <div class="kpi"><small>CUSTOS</small><div class="value" id="val-custos">R$ 0,00</div></div>
        <div class="kpi"><small>LUCRO S/ IMPOSTO</small><div class="value" id="val-lucro-sem-imposto">R$ 0,00</div></div>
        <div class="kpi"><small>LUCRO C/ IMPOSTO</small><div class="value" id="val-lucro-com-imposto">R$ 0,00</div></div>
      </section>

      <section class="card">
        <div class="overview">
          <div>
            <h3 class="muted">Resumo de Custos</h3>
          </div>
        </div>
        <div class="breakdown">
          <div class="item"><h4>Material</h4><p id="break-material">R$ 0,00</p></div>
          <div class="item"><h4>Diárias / M.O.</h4><p id="break-diarias">R$ 0,00</p></div>
          <div class="item"><h4>Combustível</h4><p id="break-combustivel">R$ 0,00</p></div>
          <div class="item"><h4>Outras</h4><p id="break-outras">R$ 0,00</p></div>
        </div>
      </section>
    </div>
  </div>

  <script type="module" src="./js/projeto-controller.js"></script>
</body>
</html>
